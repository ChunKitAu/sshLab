{"version":3,"sources":["webpack:///src/view/RegLogin/Login/Login.vue","webpack:///./src/view/RegLogin/Login/Login.vue?2fc6","webpack:///./src/view/RegLogin/Login/Login.vue","webpack:///./src/view/RegLogin/Login/index.js","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js"],"names":["Login","created","LoginForm","localStorage","getItem","this","JSON","parse","remeberme","data","user.accountName","user.password","loginLoading","methods","login","_this","Object","apis","then","res","code","$Message","error","setItem","stringify_default","msg","getIntegral","success","$store","commit","token","id","user.id","roleId","setTimeout","$router","push","name","toRegister","Login_Login","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","margin-bottom","_v","ref","model","rules","rule_LoginForm","nativeOn","keydown","$event","type","indexOf","_k","keyCode","key","directives","rawName","value","expression","domProps","on","input","target","composing","$set","display","justify-content","callback","$$v","background","border","loading","long","click","preventDefault","margin-left","color","staticRenderFns","RegLogin_Login_Login","__webpack_require__","normalizeComponent","ssrContext","module","exports","default","__esModule","core","$JSON","stringify","it","apply","arguments"],"mappings":"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","file":"static/js/5.98c5aa3913dae531392e.js","sourcesContent":["<template>\r\n  <div id=\"id\" class=\"animated fadeIn\">\r\n    <h2 style=\"margin-bottom: 30px;\">任务发布系统</h2>\r\n    <Form\r\n      ref=\"LoginForm\"\r\n      :model=\"LoginForm\"\r\n      :rules=\"rule_LoginForm\"\r\n      class=\"form-class\"\r\n      @keydown.enter.native=\"login(LoginForm)\"\r\n    >\r\n      <FormItem>\r\n        <span>账号</span>\r\n        <input v-model=\"LoginForm['user.accountName']\" type=\"text\" class=\"input\" />\r\n      </FormItem>\r\n      <FormItem>\r\n        <div style=\"display: flex; justify-content: space-between\">\r\n          <span>密码</span>\r\n          <!-- <a onclick=\"alert('联系管理员xxxxxx@gmail.com')\">忘记密码?</a> -->\r\n        </div>\r\n        <input v-model=\"LoginForm['user.password']\" type=\"password\" class=\"input\" />\r\n      </FormItem>\r\n      <Checkbox v-model=\"remeberme\">\r\n        <span class=\"rememberKey\">记住密码</span>\r\n      </Checkbox>\r\n      <br />\r\n      <br />\r\n      <FormItem>\r\n        <Button\r\n          @click.native.prevent=\"login(LoginForm)\"\r\n          style=\"background: #5A8CFF; border:#5A8CFF\"\r\n          type=\"primary\"\r\n          :loading=\"loginLoading\"\r\n          long\r\n        >登录</Button>\r\n      </FormItem>\r\n    </Form>\r\n    <div class=\"registerTips\">\r\n      <div>还没有账号?</div>\r\n      <a @click=\"toRegister\" style=\"margin-left: 5px; color: #007bff\">点击注册</a>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { login, getUserInfo } from \"@/api/apis\";\r\nexport default {\r\n  created() {\r\n    let LoginForm = localStorage.getItem(\"LoginForm\");\r\n    if (LoginForm) {\r\n      this.LoginForm = JSON.parse(LoginForm);\r\n      this.remeberme = true;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      LoginForm: {\r\n        \"user.accountName\": \"\",\r\n        \"user.password\": \"\"\r\n      },\r\n      loginLoading: false,\r\n      remeberme: false\r\n    };\r\n  },\r\n  methods: {\r\n    login(data) {\r\n      if (!data[\"user.accountName\"] || !data[\"user.password\"]) {\r\n        this.$Message.error(\"账号和密码都不能为空\");\r\n        return;\r\n      }\r\n      this.loginLoading = true;\r\n      login(data).then(res => {\r\n        if (res.data.code !== 200) {\r\n          this.$Message.error(\"账号或密码错误\");\r\n          this.loginLoading = false;\r\n          return;\r\n        }\r\n        this.remeberme &&\r\n          localStorage.setItem(\"LoginForm\", JSON.stringify(this.LoginForm));\r\n        let msg = res.data.data.getIntegral ? \"登录成功 +1积分\" : \"登录成功\";\r\n        this.$Message.success(msg);\r\n        this.loginLoading = false;\r\n        // token和id存起来\r\n        this.$store.commit(\"setToken\", res.data.data.token);\r\n        this.$store.commit(\"setId\", res.data.data.id);\r\n        getUserInfo({ \"user.id\": res.data.data.id }).then(res => {\r\n          this.$store.commit(\"setRoleId\", res.data.data.roleId);\r\n          setTimeout(() => {\r\n            this.$router.push({\r\n              name: \"home\"\r\n            });\r\n          }, 0);\r\n        });\r\n      });\r\n    },\r\n    toRegister: function() {\r\n      this.$router.push({ name: \"register\" });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.input {\r\n  display: block;\r\n  width: 100%;\r\n  height: calc(1.5em + 0.75rem + 2px);\r\n  padding: 0.375rem 0.75rem;\r\n  font-weight: 400;\r\n  line-height: 1.5;\r\n  color: #495057;\r\n  background-color: #fff;\r\n  background-clip: padding-box;\r\n  border: 2px solid #ced4da;\r\n  border-radius: 0.25rem;\r\n  /* transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out; */\r\n}\r\n\r\n.registerTips {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n/* .input :focus {\r\n    color: #495057;\r\n    background-color: #fff;\r\n    border-color: #80bdff;\r\n    outline: 0;\r\n    box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25);\r\n} */\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/view/RegLogin/Login/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"animated fadeIn\",attrs:{\"id\":\"id\"}},[_c('h2',{staticStyle:{\"margin-bottom\":\"30px\"}},[_vm._v(\"任务发布系统\")]),_vm._v(\" \"),_c('Form',{ref:\"LoginForm\",staticClass:\"form-class\",attrs:{\"model\":_vm.LoginForm,\"rules\":_vm.rule_LoginForm},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login(_vm.LoginForm)}}},[_c('FormItem',[_c('span',[_vm._v(\"账号\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.LoginForm['user.accountName']),expression:\"LoginForm['user.accountName']\"}],staticClass:\"input\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.LoginForm['user.accountName'])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.LoginForm, 'user.accountName', $event.target.value)}}})]),_vm._v(\" \"),_c('FormItem',[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('span',[_vm._v(\"密码\")])]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.LoginForm['user.password']),expression:\"LoginForm['user.password']\"}],staticClass:\"input\",attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.LoginForm['user.password'])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.LoginForm, 'user.password', $event.target.value)}}})]),_vm._v(\" \"),_c('Checkbox',{model:{value:(_vm.remeberme),callback:function ($$v) {_vm.remeberme=$$v},expression:\"remeberme\"}},[_c('span',{staticClass:\"rememberKey\"},[_vm._v(\"记住密码\")])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('FormItem',[_c('Button',{staticStyle:{\"background\":\"#5A8CFF\",\"border\":\"#5A8CFF\"},attrs:{\"type\":\"primary\",\"loading\":_vm.loginLoading,\"long\":\"\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.login(_vm.LoginForm)}}},[_vm._v(\"登录\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"registerTips\"},[_c('div',[_vm._v(\"还没有账号?\")]),_vm._v(\" \"),_c('a',{staticStyle:{\"margin-left\":\"5px\",\"color\":\"#007bff\"},on:{\"click\":_vm.toRegister}},[_vm._v(\"点击注册\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-942d8148\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/RegLogin/Login/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-942d8148\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-942d8148\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-942d8148\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/RegLogin/Login/Login.vue\n// module id = null\n// module chunks = ","import Login from './Login.vue'\r\nexport default Login\n\n\n// WEBPACK FOOTER //\n// ./src/view/RegLogin/Login/index.js","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 5","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 5"],"sourceRoot":""}