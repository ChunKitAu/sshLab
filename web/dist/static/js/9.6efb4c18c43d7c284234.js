webpackJsonp([9],{DFR4:function(t,e){},jPwu:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("2S+2"),a={data:function(){return{total:12,loading:!0,saveLoading:!1,tableHeader:[{title:"ID",key:"id",width:60,align:"center"},{title:"图片",slot:"img"},{title:"名称",slot:"name"},{title:"所需积分",slot:"integral"},{title:"描述",slot:"description"},{title:"操作",slot:"action"}],tableData:[],editIndex:-1,currentPage:1,pageSize:12,editObject:{"shop.img":"","shop.integral":"","shop.description":"","shop.name":"","shop.id":""}}},created:function(){this.getTableData({currentPage:1})},methods:{getTableData:function(t){var e=this;t.pageSize=this.pageSize,this.loading=!0,Object(i.b)(t).then(function(t){console.log(t),e.tableData=t.data.data.data,e.total=t.data.data.total,e.loading=!1})},handleEdit:function(t,e){this.editObject["shop.img"]=t.img,this.editObject["shop.integral"]=t.integral,this.editObject["shop.description"]=t.description,this.editObject["shop.name"]=t.name,this.editObject["shop.id"]=t.id,this.editIndex=e},handleSave:function(t){var e=this;this.saveLoading=!0,Object(i.h)(this.editObject).then(function(n){console.log(n),e.tableData[t].img=e.editObject["shop.img"],e.tableData[t].integral=e.editObject["shop.integral"],e.tableData[t].description=e.editObject["shop.description"],e.tableData[t].name=e.editObject["shop.name"],e.tableData[t].id=e.editObject["shop.id"],e.editObject={},e.editIndex=-1,e.saveLoading=!1,e.$Message.success("保存成功")})},onChange:function(t){this.currentPage=t,this.getTableData({currentPage:t})}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container my-shadow box"},[n("h2",{staticStyle:{"margin-bottom":"30px"}},[t._v("商城管理")]),t._v(" "),n("Table",{attrs:{columns:t.tableHeader,data:t.tableData,border:"",loading:t.loading},scopedSlots:t._u([{key:"img",fn:function(e){var i=e.row,a=e.index;return[t.editIndex===a?n("Input",{attrs:{type:"text"},model:{value:t.editObject["shop.img"],callback:function(e){t.$set(t.editObject,"shop.img",e)},expression:"editObject['shop.img']"}}):n("Poptip",{attrs:{trigger:"hover",placement:"bottom-start",transfer:""}},[n("span",{staticStyle:{"text-decoration":"underline",cursor:"pointer",color:"#52B2EF"}},[t._v(t._s(i.name))]),t._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("img",{attrs:{src:i.img,alt:"图片加载失败"}})])])]}},{key:"name",fn:function(e){var i=e.row,a=e.index;return[t.editIndex===a?n("Input",{attrs:{type:"text"},model:{value:t.editObject["shop.name"],callback:function(e){t.$set(t.editObject,"shop.name",e)},expression:"editObject['shop.name']"}}):n("span",[t._v(t._s(i.name))])]}},{key:"integral",fn:function(e){var i=e.row,a=e.index;return[t.editIndex===a?n("Input",{attrs:{type:"text"},model:{value:t.editObject["shop.integral"],callback:function(e){t.$set(t.editObject,"shop.integral",e)},expression:"editObject['shop.integral']"}}):n("span",[t._v(t._s(i.integral))])]}},{key:"description",fn:function(e){var i=e.row,a=e.index;return[t.editIndex===a?n("Input",{attrs:{type:"text"},model:{value:t.editObject["shop.description"],callback:function(e){t.$set(t.editObject,"shop.description",e)},expression:"editObject['shop.description']"}}):n("span",[t._v(t._s(i.description))])]}},{key:"action",fn:function(e){var i=e.row,a=e.index;return[t.editIndex===a?n("div",[n("Button",{attrs:{loading:t.saveLoading},on:{click:function(e){return t.handleSave(a)}}},[t._v("保存")]),t._v(" "),n("Button",{on:{click:function(e){t.editIndex=-1}}},[t._v("取消")])],1):n("div",[n("Button",{on:{click:function(e){return t.handleEdit(i,a)}}},[t._v("编辑")])],1)]}}])}),t._v(" "),n("Page",{staticStyle:{"margin-top":"30px",float:"right"},attrs:{total:t.total},on:{"on-change":t.onChange}})],1)},staticRenderFns:[]};var s=n("VU/8")(a,o,!1,function(t){n("DFR4")},"data-v-5451d709",null).exports;e.default=s}});
//# sourceMappingURL=9.6efb4c18c43d7c284234.js.map