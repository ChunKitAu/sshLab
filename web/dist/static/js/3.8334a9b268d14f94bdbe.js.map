{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/_object-gops.js","webpack:///./node_modules/core-js/library/modules/_object-pie.js","webpack:///./node_modules/core-js/library/modules/es6.object.assign.js","webpack:///./node_modules/core-js/library/modules/_object-assign.js","webpack:///./node_modules/core-js/library/fn/object/assign.js","webpack:///src/components/ShopManager/ShopManager.vue","webpack:///./src/components/ShopManager/ShopManager.vue?5a4d","webpack:///./src/components/ShopManager/ShopManager.vue","webpack:///./src/components/ShopManager/index.js","webpack:///./node_modules/babel-runtime/core-js/object/assign.js"],"names":["exports","f","Object","getOwnPropertySymbols","propertyIsEnumerable","$export","__webpack_require__","S","F","assign","DESCRIPTORS","getKeys","gOPS","pIE","toObject","IObject","$assign","module","A","B","Symbol","K","split","forEach","k","keys","join","target","source","T","aLen","arguments","length","index","getSymbols","isEnum","key","concat","j","call","ShopManager","data","modal1","modal2","total","loading","saveLoading","formTop","tableHeader","title","slot","tableData","editIndex","currentPage","pageSize","editObject","shop.img","shop.integral","shop.description","shop.name","shop.id","created","this","getTableData","methods","addNewGift","_this","apis","then","res","hasOwnProperty","$Message","success","info","_this2","console","log","arr","filter","elem","deleted","handleDelete","row","_this3","confirm","id","code","handleEdit","handleSave","_this4","assign_default","shop.isDeleted","img","integral","description","name","onChange","page","ShopManager_ShopManager","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","display","justify-content","margin-bottom","_v","attrs","type","on","click","$event","columns","border","scopedSlots","_u","fn","ref","model","value","callback","$$v","$set","expression","trigger","placement","transfer","text-decoration","cursor","color","_s","src","alt","margin-top","float","on-change","on-ok","on-cancel","cancel","label-position","label-width","label","staticRenderFns","components_ShopManager_ShopManager","normalizeComponent","ssrContext","default","__esModule"],"mappings":"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","file":"static/js/3.8334a9b268d14f94bdbe.js","sourcesContent":["exports.f = Object.getOwnPropertySymbols;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gops.js\n// module id = 1kS7\n// module chunks = 3","exports.f = {}.propertyIsEnumerable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-pie.js\n// module id = NpIQ\n// module chunks = 3","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.assign.js\n// module id = R4wc\n// module chunks = 3","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-assign.js\n// module id = To3L\n// module chunks = 3","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/assign.js\n// module id = V3tA\n// module chunks = 3","<template>\r\n  <div class=\"container my-shadow box\">\r\n    <div style=\"display: flex; justify-content: space-between;margin-bottom: 30px\">\r\n      <h2>商城管理</h2>\r\n      <Button type=\"primary\" @click=\"modal1=true\">新增</Button>\r\n    </div>\r\n    <Table :columns=\"tableHeader\" :data=\"tableData\" border :loading=\"loading\">\r\n      <template slot-scope=\"{ row,index }\" slot=\"img\">\r\n        <Input type=\"text\" v-model=\"editObject['shop.img']\" v-if=\"editIndex === index\" />\r\n        <Poptip v-else trigger=\"hover\" placement=\"bottom-start\" transfer>\r\n          <span style=\"text-decoration: underline; cursor: pointer; color: #52B2EF\">{{row['img']}}</span>\r\n          <div slot=\"content\">\r\n            <img :src=\"row.img\" alt=\"图片加载失败\" />\r\n          </div>\r\n        </Poptip>\r\n      </template>\r\n      <template slot-scope=\"{ row, index }\" slot=\"name\">\r\n        <Input type=\"text\" v-model=\"editObject['shop.name']\" v-if=\"editIndex === index\" />\r\n        <span v-else>{{ row['name'] }}</span>\r\n      </template>\r\n      <template slot-scope=\"{ row, index }\" slot=\"integral\">\r\n        <Input type=\"text\" v-model=\"editObject['shop.integral']\" v-if=\"editIndex === index\" />\r\n        <span v-else>{{ row['integral'] }}</span>\r\n      </template>\r\n      <template slot-scope=\"{ row, index }\" slot=\"description\">\r\n        <Input type=\"text\" v-model=\"editObject['shop.description']\" v-if=\"editIndex === index\" />\r\n        <span v-else>{{ row['description'] }}</span>\r\n      </template>\r\n      <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n        <div v-if=\"editIndex === index\">\r\n          <Button @click=\"handleSave(index)\" :loading=\"saveLoading\">保存</Button>\r\n          <Button @click=\"editIndex = -1\">取消</Button>\r\n        </div>\r\n        <div v-else>\r\n          <Button @click=\"handleEdit(row, index)\">编辑</Button>\r\n          <Button style=\"color: red\" @click=\"handleDelete(row, index)\">删除</Button>\r\n        </div>\r\n      </template>\r\n    </Table>\r\n    <Page style=\"margin-top: 30px; float: right\" :total=\"total\" @on-change=\"onChange\" />\r\n    <Modal v-model=\"modal1\" title=\"添加新商品\" @on-ok=\"addNewGift\" @on-cancel=\"cancel\">\r\n      <Form :model=\"formTop\" label-position=\"right\" :label-width=\"40\">\r\n        <FormItem label=\"名称\">\r\n          <Input v-model=\"formTop['shop.name']\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"积分\">\r\n          <Input v-model=\"formTop['shop.integral']\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"图片\">\r\n          <Input v-model=\"formTop['shop.img']\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"描述\">\r\n          <Input v-model=\"formTop['shop.description']\" type=\"textarea\"></Input>\r\n        </FormItem>\r\n      </Form>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\nimport {\r\n  addGift,\r\n  deleteGift,\r\n  updateGift,\r\n  getGiftsWithoutDelete\r\n} from \"@/api/apis\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      modal1: false,\r\n      modal2: false,\r\n      total: 12,\r\n      loading: true,\r\n      saveLoading: false,\r\n      formTop: {},\r\n      tableHeader: [\r\n        // {\r\n        //   title: \"ID\",\r\n        //   key: \"id\",\r\n        //   width: 60,\r\n        //   align: \"center\"\r\n        // },\r\n        { title: \"图片\", slot: \"img\" },\r\n        { title: \"名称\", slot: \"name\" },\r\n        { title: \"所需积分\", slot: \"integral\" },\r\n        { title: \"描述\", slot: \"description\" },\r\n        { title: \"操作\", slot: \"action\" }\r\n      ],\r\n      tableData: [],\r\n      editIndex: -1,\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      editObject: {\r\n        \"shop.img\": \"\",\r\n        \"shop.integral\": \"\",\r\n        \"shop.description\": \"\",\r\n        \"shop.name\": \"\",\r\n        \"shop.id\": \"\"\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.getTableData({\r\n      currentPage: 1\r\n    });\r\n  },\r\n  methods: {\r\n    // 添加新的商品\r\n    addNewGift() {\r\n      addGift(this.formTop).then(res => {\r\n        for (const key in this.formTop) {\r\n          if (this.formTop.hasOwnProperty(key)) {\r\n            this.formTop[key] = \"\";\r\n          }\r\n        }\r\n        this.getTableData({\r\n          currentPage: this.currentPage\r\n        });\r\n        this.$Message.success(\"添加成功\");\r\n      });\r\n    },\r\n    // 获取数据\r\n    getTableData(info) {\r\n      info[\"pageSize\"] = this.pageSize;\r\n      this.loading = true;\r\n      getGiftsWithoutDelete(info).then(res => {\r\n        console.log(res);\r\n        let arr = res.data.data.data;\r\n        this.tableData = arr.filter(elem => {\r\n          if (!elem.deleted) {\r\n            return elem;\r\n          }\r\n        });\r\n        // this.tableData = res.data.data.data;\r\n        this.total = res.data.data.total;\r\n        this.loading = false;\r\n      });\r\n    },\r\n    // 删除\r\n    handleDelete(row, index) {\r\n      if (confirm(\"确认要删除吗？\")) {\r\n        deleteGift({\r\n          \"shop.id\": row.id\r\n        }).then(res => {\r\n          if (res.data.code === 200) {\r\n            this.getTableData({\r\n              currentPage: this.currentPage\r\n            });\r\n            this.$Message.success(\"删除成功\");\r\n          }\r\n        });\r\n      }\r\n    },\r\n    // 编辑\r\n    handleEdit(row, index) {\r\n      this.editObject[\"shop.img\"] = row[\"img\"];\r\n      this.editObject[\"shop.integral\"] = row[\"integral\"];\r\n      this.editObject[\"shop.description\"] = row[\"description\"];\r\n      this.editObject[\"shop.name\"] = row[\"name\"];\r\n      this.editObject[\"shop.id\"] = row[\"id\"];\r\n      this.editIndex = index;\r\n    },\r\n    // 保存\r\n    handleSave(index) {\r\n      this.saveLoading = true;\r\n      updateGift(Object.assign({ \"shop.isDeleted\": 0 }, this.editObject)).then(\r\n        res => {\r\n          console.log(res);\r\n          this.tableData[index].img = this.editObject[\"shop.img\"];\r\n          this.tableData[index].integral = this.editObject[\"shop.integral\"];\r\n          this.tableData[index].description = this.editObject[\r\n            \"shop.description\"\r\n          ];\r\n          this.tableData[index].name = this.editObject[\"shop.name\"];\r\n          this.tableData[index].id = this.editObject[\"shop.id\"];\r\n          this.editObject = {};\r\n          this.editIndex = -1;\r\n          this.saveLoading = false;\r\n          this.$Message.success(\"保存成功\");\r\n        }\r\n      );\r\n    },\r\n    // 翻页\r\n    onChange(page) {\r\n      this.currentPage = page;\r\n      this.getTableData({\r\n        currentPage: page\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.box {\r\n  background: white;\r\n  min-height: 100vh;\r\n  padding: 50px;\r\n}\r\n.form {\r\n  width: 700px;\r\n  margin: 0 auto;\r\n  margin-top: 40px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ShopManager/ShopManager.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container my-shadow box\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"margin-bottom\":\"30px\"}},[_c('h2',[_vm._v(\"商城管理\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.modal1=true}}},[_vm._v(\"新增\")])],1),_vm._v(\" \"),_c('Table',{attrs:{\"columns\":_vm.tableHeader,\"data\":_vm.tableData,\"border\":\"\",\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"img\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [(_vm.editIndex === index)?_c('Input',{attrs:{\"type\":\"text\"},model:{value:(_vm.editObject['shop.img']),callback:function ($$v) {_vm.$set(_vm.editObject, 'shop.img', $$v)},expression:\"editObject['shop.img']\"}}):_c('Poptip',{attrs:{\"trigger\":\"hover\",\"placement\":\"bottom-start\",\"transfer\":\"\"}},[_c('span',{staticStyle:{\"text-decoration\":\"underline\",\"cursor\":\"pointer\",\"color\":\"#52B2EF\"}},[_vm._v(_vm._s(row['img']))]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('img',{attrs:{\"src\":row.img,\"alt\":\"图片加载失败\"}})])])]}},{key:\"name\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [(_vm.editIndex === index)?_c('Input',{attrs:{\"type\":\"text\"},model:{value:(_vm.editObject['shop.name']),callback:function ($$v) {_vm.$set(_vm.editObject, 'shop.name', $$v)},expression:\"editObject['shop.name']\"}}):_c('span',[_vm._v(_vm._s(row['name']))])]}},{key:\"integral\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [(_vm.editIndex === index)?_c('Input',{attrs:{\"type\":\"text\"},model:{value:(_vm.editObject['shop.integral']),callback:function ($$v) {_vm.$set(_vm.editObject, 'shop.integral', $$v)},expression:\"editObject['shop.integral']\"}}):_c('span',[_vm._v(_vm._s(row['integral']))])]}},{key:\"description\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [(_vm.editIndex === index)?_c('Input',{attrs:{\"type\":\"text\"},model:{value:(_vm.editObject['shop.description']),callback:function ($$v) {_vm.$set(_vm.editObject, 'shop.description', $$v)},expression:\"editObject['shop.description']\"}}):_c('span',[_vm._v(_vm._s(row['description']))])]}},{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [(_vm.editIndex === index)?_c('div',[_c('Button',{attrs:{\"loading\":_vm.saveLoading},on:{\"click\":function($event){return _vm.handleSave(index)}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('Button',{on:{\"click\":function($event){_vm.editIndex = -1}}},[_vm._v(\"取消\")])],1):_c('div',[_c('Button',{on:{\"click\":function($event){return _vm.handleEdit(row, index)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"color\":\"red\"},on:{\"click\":function($event){return _vm.handleDelete(row, index)}}},[_vm._v(\"删除\")])],1)]}}])}),_vm._v(\" \"),_c('Page',{staticStyle:{\"margin-top\":\"30px\",\"float\":\"right\"},attrs:{\"total\":_vm.total},on:{\"on-change\":_vm.onChange}}),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"添加新商品\"},on:{\"on-ok\":_vm.addNewGift,\"on-cancel\":_vm.cancel},model:{value:(_vm.modal1),callback:function ($$v) {_vm.modal1=$$v},expression:\"modal1\"}},[_c('Form',{attrs:{\"model\":_vm.formTop,\"label-position\":\"right\",\"label-width\":40}},[_c('FormItem',{attrs:{\"label\":\"名称\"}},[_c('Input',{model:{value:(_vm.formTop['shop.name']),callback:function ($$v) {_vm.$set(_vm.formTop, 'shop.name', $$v)},expression:\"formTop['shop.name']\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"积分\"}},[_c('Input',{model:{value:(_vm.formTop['shop.integral']),callback:function ($$v) {_vm.$set(_vm.formTop, 'shop.integral', $$v)},expression:\"formTop['shop.integral']\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"图片\"}},[_c('Input',{model:{value:(_vm.formTop['shop.img']),callback:function ($$v) {_vm.$set(_vm.formTop, 'shop.img', $$v)},expression:\"formTop['shop.img']\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"描述\"}},[_c('Input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.formTop['shop.description']),callback:function ($$v) {_vm.$set(_vm.formTop, 'shop.description', $$v)},expression:\"formTop['shop.description']\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6c5ac0de\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ShopManager/ShopManager.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6c5ac0de\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ShopManager.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShopManager.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShopManager.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6c5ac0de\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ShopManager.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6c5ac0de\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ShopManager/ShopManager.vue\n// module id = null\n// module chunks = ","import ShopManager from \"./ShopManager.vue\";\r\nexport default ShopManager;\n\n\n// WEBPACK FOOTER //\n// ./src/components/ShopManager/index.js","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/assign.js\n// module id = woOf\n// module chunks = 3"],"sourceRoot":""}