webpackJsonp([6],{"1tWY":function(t,e){},"FfO/":function(t,e){},Gh4p:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("2S+2"),n=a("a8Lk"),s=a("RQmB"),o={data:function(){return{typeList:["软件外包","跑腿代取","视频剪辑","食堂兼职","办公助理","澳门代购"],loading:!1,loadingMore:!1,currentPage:1,pageSize:10,total:0,list:[],currentType:0}},components:{Task:n.a,Loader:s.a},created:function(){this.getTaskByTypeId({"task.type_id":0,currentPage:1,pageSize:10})},methods:{getTaskByTypeId:function(t){var e=this;this.list=[],this.loading=!0,Object(i.j)(t).then(function(t){console.log(t),t.data.data.hasOwnProperty("data")?(e.list=t.data.data.data,e.total=t.data.data.total):(e.list=[],e.total=0),e.loading=!1,console.log(e.list)})},loadMore:function(){var t=this;this.loadingMore=!0,Object(i.j)({"task.type_id":this.currentType,currentPage:++this.currentPage,pageSize:10}).then(function(e){var a=e.data.data;console.log(a),a.data?(t.list=t.list.concat(e.data.data.data),t.total=e.data.data.total):(t.$Notice.info({title:"没有更多数据了"}),t.loadingMore=!1),t.loadingMore=!1,console.log(t.list)})},changeTaskType:function(t){1===t.target.nodeType&&(this.currentType=this.typeList.indexOf(t.target.innerHTML),this.getTaskByTypeId({"task.type_id":this.currentType,currentPage:1,pageSize:10}))}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container main"},[a("Content",{staticClass:"left my-shadow",attrs:{padding:"0"}},[a("nav",[a("ul",{on:{click:t.changeTaskType}},t._l(t.typeList,function(e){return a("li",{key:e},[t._v(t._s(e))])}),0)])]),t._v(" "),a("Content",{staticClass:"right my-shadow"},[t._l(t.list,function(t){return a("Task",{key:t,attrs:{item:t,from:"search"}})}),t._v(" "),a("Loader",{attrs:{loading:t.loading}}),t._v(" "),0!==t.total||t.loading?t._e():a("div",{staticStyle:{"margin-top":"50px"}},[t._v("这个分类下暂时没有任务")]),t._v(" "),0===t.total||t.loading?t._e():a("Button",{staticStyle:{"margin-top":"30px"},attrs:{size:"small",loading:t.loadingMore},on:{click:t.loadMore}},[t._v("加载更多")])],2)],1)},staticRenderFns:[]};var r=a("VU/8")(o,l,!1,function(t){a("FfO/")},"data-v-1bea2b26",null).exports;e.default=r},a8Lk:function(t,e,a){"use strict";var i=a("2S+2"),n={props:["item","from"],data:function(){return{typeList:["软件外包","跑腿代取","视频剪辑","食堂兼职","办公助理","澳门代购"],loading:!1}},methods:{accept:function(){var t=this;this.loading=!0,Object(i.a)({"task.id":this.item.id}).then(function(e){console.log(e),t.$Message.success("任务接受成功"),t.loading=!1,t.item.number=-(t.item.number+1)})},complete:function(){var t=this;this.loading=!0,Object(i.c)({"task.id":this.item.id}).then(function(e){console.log(e),t.$Message.success("任务已完成"),t.loading=!1,t.item.number=-t.item.number})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item"},[a("h2",{staticClass:"title"},[t._v(t._s(t.item.title))]),t._v(" "),a("div",{staticClass:"info"},[a("span",[t._v(t._s(t.item.start_time)+" - "+t._s(t.item.end_time))]),t._v("  |  \n    "),a("span",[t._v(t._s(t.typeList[t.item.type_id]))]),t._v("  |  \n    "),t._v(" "),a("span",[t._v(t._s(t.item.integral)+"积分")]),t._v("  |  \n    "),a("span",[t._v(t._s(t.item.number>0?t.item.number:~t.item.number-1)+"人")])]),t._v(" "),a("div",{staticClass:"article"},[t._v(t._s(t.item.content))]),t._v(" "),"search"==t.from?a("div",{staticClass:"footer"},[t.item.number>0?a("Button",{attrs:{size:"small",loading:t.loading},on:{click:t.accept}},[t._v("接受任务")]):a("span",{staticStyle:{color:"#19be6b"}},[t._v("已接受")])],1):t._e(),t._v(" "),"myTasks"==t.from?a("div",{staticClass:"footer"},[t.item.status?a("span",{staticStyle:{color:"#19be6b"}},[t._v("已完成")]):a("span",{staticStyle:{color:"#ff9900"}},[t._v("进行中")])]):t._e(),t._v(" "),"postTasks"==t.from?a("div",{staticClass:"footer"},[t.item.number>0?a("Button",{attrs:{size:"small",loading:t.loading},on:{click:t.complete}},[t._v("完成任务")]):a("span",{staticStyle:{color:"#19be6b"}},[t._v("已完成")])],1):t._e()])},staticRenderFns:[]};var o=a("VU/8")(n,s,!1,function(t){a("1tWY")},null,null);e.a=o.exports}});
//# sourceMappingURL=6.5e37c37c5f67fc0c6b59.js.map